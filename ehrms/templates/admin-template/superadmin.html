{% extends 'admin-template/adminAdashboard.html' %}
{% block main_content %} {% load static %} {% load notifications_tags %}
    
<div class="container">
    <div class="row" style="width:4000px">
        <div class="col-12"><br><br><br>
                <h3 >All Notifications</h3>
    
                
              <!-- /.card-header -->
              <script
                src="{% static 'notifications/notify.js' %}"
                type="text/javascript"
              ></script>
    
              {% register_notify_callbacks callbacks='fill_notification_list,fill_notification_badge' %}
    
              
                <table class="table table-hover text-nowrap">
                  <thead>
                    <tr>
                      <th>Notifications</th>
                    </tr>
                  </thead>
                   
    
                  <tbody>
                    {% for notification in request.user.notifications.all %}
                    <form action="/super_mark_as_read/{{notification.id}}/" id="empread" method="post">
                      {% csrf_token %}
                    
                    <tr {% if notification.unread %} style="background-color: #fff;" {% else %} style="background-color:#cccccc ;" {% endif %}  >
                       
                      <td>   
                   <button  type="submit" style="border: none;{% if notification.unread %} background-color: #fff; {% else %} background-color: #cccccc;  {% endif %} ">   {{ notification.description }}</button>
                   {% if notification.unread %}
                   <span class=" badge-pill badge-primary">new</span>
                   {% endif %}
                    </td> 
                      <td> {{ notification.timestamp }} </td>
                      {% if notification.verb == "Reimbursement Status Approve" or notification.verb == "Payslip Status Approve" or notification.verb == "Leave Status Accept" %}
                     <td> <span class=" badge  badge-success ">Approved</span></td>
                     {% elif notification.verb == "Reimbursement Status Reject" or notification.verb == "Payslip Status Reject" or notification.verb == "Leave Status Reject" %}
                     <td> <span class=" badge badge-danger ">Denied</span></td>
    
                     {% endif %}
                   
                  
                    </tr>
                  </form>
                  
                    {% endfor %}
                  </tbody>
                  
                </table>
             </div></div></div>
    </section>
    {% endblock main_content %}
