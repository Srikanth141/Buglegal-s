{% extends 'admin-template/base_template.html' %}
{% block main_content %}
<html>
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <style>

          #yourTableID {
                  font-family: arial, sans-serif;
                  border-collapse: collapse;
                  width: 100%;
                  }
          
                  /* Apply styles to table cells */
                  #yourTableID td, #yourTableID th {
                  border-color: #f6f7f4;
                  text-align: left;
                  padding: 8px;
                  color: white;
                  }
          
                  /* Apply alternating row colors */
                  #yourTableID tbody tr:nth-child(even) {
                  background-color: rgb(238,242,244);
                  }
          
                  #yourTableID tbody tr:nth-child(odd) {
                  background-color: rgb(239, 239, 247);
                  }
          
          </style>
          
          
        <style>
          body{
              
              text-align:left;
        
          
          }
         
          /* h1,h2,h3,h4,h5,h6{
              color:white;
              margin-top: 4px;
          } */
          tr:nth-child(even){
              /* background-color:#2D3354; */
          }
          tr:nth-child(odd){
              /* background-color:#242B4D; */
          }
          table{
              /* border-collapse: collapse;
              color: white; */
              width: 100%;
              border:1px  solid #ffff;

          }
          table{
              table-layout: auto;
          }
          th{
              font-size: 20px;
              padding:15px;
          }


* {
box-sizing: border-box;
}

/* Create two equal columns that floats next to each other */
.column {
float: left;
width: 75%;
padding: 10px;
 /* Should be removed. Only for demonstration */
}
.column1 {
  float: right;
  width: 25%;
  padding: 10px;
   /* Should be removed. Only for demonstration */
  }

/* Clear floats after the columns */
.row:after {
content: "";
display: table;
clear: both;
}

  tr{
    color:#fff
  }


  /* .pagination {
    margin: 20px 0;
    text-align: center;
}

.pagination a, .pagination .current-page {
    display: inline-block;
    padding: 8px 12px;
    text-decoration: none;
    margin: 0 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    transition: background-color 0.3s;
} */
 /* Style table cells (td) */
 /* table.table tbody td {
        color: white; 
    }
   table{
    width: 100% !important;
   }
   .pagination {
    margin: 20px 0;
    text-align: center;
}

.pagination a, .pagination .current-page {
    display: inline-block;
    padding: 8px 12px;
    text-decoration: none;
    margin: 0 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    transition: background-color 0.3s;
} */
/* body{
    margin-top: 5px;
} */

.pagination a, .pagination .current-page {
        display: inline-block;
        padding: 8px 12px;
        text-decoration: none;
        border: 1px solid #ccc;
        border-radius: 4px;
        transition: background-color 0.3s;
        border-radius: 20px;
        text-align: center;
        /* background-color: #3775e0;
        color: white; */
    }
.act{
  /* background-color: orange; */
  color: white;
  height:43px;
  width:43px;
  border-radius: 20px;

}

</style>
<!-- <style>

    #yourTableID {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
            }
    
            /* Apply styles to table cells */
            #yourTableID td, #yourTableID th {
            border-color: #f6f7f4;
            text-align: left;
            padding: 8px;
            color: black;
            }
    
            /* Apply alternating row colors */
            #yourTableID tbody tr:nth-child(even) {
            background-color: rgb(141, 183, 218);
            }
    
            #yourTableID tbody tr:nth-child(odd) {
            background-color: rgb(239, 239, 247);
            }
            .pagination .step-links a.active {
    background-color: orange;
}
</style> -->
</head>
<body>

<div class="row" style="margin-top: 30px;">
<div class="col-lg-12" >
  <h2>Advance Salary</h2>
  
<!-- <div class="card-tools">
  <div class="input-group input-group-sm" style="margin-top: 0px;width:250px;margin-left:75%;">
    <input type="text" id="myInput" onkeyup="submitSearch()" class="form-control float-right" placeholder="Search......" style="background-color: white;  border: none; color:black;">
   
  </div>
</div> -->

<form method="post">{% csrf_token %}
  <div class="container-fluid">
      <div class="row">
          <div class="col-4">
          </div>
          <div class="col-4">
          </div>
          
          <div class="col-3" >
              <input type="text" name="se" class="form-control" placeholder="Search for Id..." >    
          </div>
  
          <div class="col-1">
              <button type="submit" class="btn btn-primary" >Search</button>
          </div>
      </div>
  </div>
  </form>


<br>

<div class="table-responsive">
<table id="yourTableID" class="table table-striped" style="width: 1300px;margin-top: 0px;">
  <thead class="bg-black">
      <tr>     
         <th>Employee ID</th>
          <th>Employee Name</th>
         
          <th>EMI</th>
          <th>Reason</th>
          <th>Amount</th>
          <th>Request</th>
         
      </tr>
      </thead>
      <tbody>
      {% for leave in emp_req %}
      <tr>
        <td>{{ leave.student_id.empid }}</td>
        <td>{{ leave.student_id.first_name }} {{ leave.student_id.last_name }}</td>
          
       
          <td>{{ leave.eminumber_id }} {% if leave.eminumber_id == 1 %} month {% else %} months {% endif %}</td>
     
          <td>{{ leave.reason }}</td>
          <td>{{ leave.amount }}</td>
       
          
          <td>
              {% if leave.request_status == 0 %}
              <a href="{% url 'advance_salary_status_approve' leave_id=leave.id %}" class="btn btn-success" >Approve</a>
              <a class="btn btn-danger" href="{% url 'advance_salary_status_disapprove' leave_id=leave.id %}" >Disapprove</a>
              {% elif leave.request_status == 1  %}
               <button class="btn btn-warning" disabled="disabled" data-toggle="modal" data-target="#reply_modal">Approved</button>
              {% else %}
              <button class="btn btn-danger" disabled="disabled" data-toggle="modal" data-target="#reply_modal">Disapproved</button>
              {% endif %}
          </td>


          
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>  


  <!-- <div class="pagination d-flex justify-content-center" style="color: white; padding-left: 24px;">
    <span class="step-links">
        {% if leaves.has_previous %}
            <a href="?page=1">&laquo; First</a>
            <a href="?page={{ leaves.previous_page_number }}" class="prev">&#8249; << </a>
        {% endif %}

        {% for page in leaves.paginator.page_range %}
            <a href="?page={{ page }}" {% if page == leaves.number %}class="active"{% endif %}>{{ page }}</a>
        {% endfor %}

        {% if leaves.has_next %}
            <a href="?page={{ leaves.next_page_number }}" class="next">Next &rsaquo;</a>
            <a href="?page={{ leaves.paginator.num_pages }}">&raquo; Last</a>
        {% endif %}
    </span>
</div> -->

<!-- <div class="text-center" style="color: white;">
  {% if leaves.number|add:'-5' > 1 %}
        <a class="btn btn-info bi bi-arrow-left "  style="border-radius: 20px;" href="?page={{ leaves.number|add:'-5' }}"></a>
        {% endif %}

        {% for i in leaves.paginator.page_range %}
        {% if leaves.number == i %}
        <button class="active btn btn-info"  style="border-radius: 20px;"><span>{{ i }} <span class="sr-only">(current)</span></span></button>
        {% elif i > leaves.number|add:'-3' and i < leaves.number|add:'3' %}
            <a class="btn btn-info"  style="border-radius: 20px;" href="?page={{ i }}">{{ i }}</a>
        {% endif %}
        {% endfor %}

        {% if leaves.paginator.num_pages > leaves.number|add:'1' %}
        <a class="btn btn-info bi bi-arrow-right" style="border-radius: 20px;" href="?page={{ leaves.number|add:'5' }}"></i></a>
        {% endif %}

</div> -->

<div class="pagination" style="color:white; margin:20px auto;">
  <span class="step-links">
      {% if emp_req.has_previous %}
          <a  href="?page=1">&laquo;<<</a>
          <a   href="?page={{ emp_req.previous_page_number }}" class="prev"> < </a>
      {% endif %}


      {% for i in emp_req.paginator.page_range %}
      {% if emp_req.number == i %}
      <button class="active act bg-info"><span>{{ i }} <span class="sr-only">(current)</span></span></button>
      {% elif i > emp_req.number|add:'-3' and i < emp_req.number|add:'3' %}
          <a  href="?page={{ i }}">{{ i }}</a>
      {% endif %}
      {% endfor %}

     

      {% if emp_req.has_next %}
          {% if emp_req.number != emp_req.paginator.num_pages %}
          {% endif %}
          <a   href="?page={{ emp_req.next_page_number }}" class="prev">> </a>

          <a  href="?page={{ emp_req.paginator.num_pages }}">>>&raquo; </a>
      {% endif %}
  </span>
</div>   


<div id="no-data-message" style="display: none;font-family: Arial, sans-serif;font-size: 20px; margin: 20px auto; color: white; width:230px">
  No matching data found.
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<!-- <script>
  $(document).ready(function () {
      $("#name-search, #date-search").on("keyup change", function () {
          var nameValue = $("#name-search").val().toLowerCase();
          var dateValue = $("#date-search").val();

          var anyDataAvailable = false;

          $("#yourTableID tbody tr").filter(function () {
              var nameMatch = $(this).text().toLowerCase().indexOf(nameValue) > -1;
              var dateCell = $(this).find("td:eq(3)").text(); // Index 3 corresponds to the Date column
              var dateMatch = dateValue === "" || dateCell === dateValue;

              var rowVisible = nameMatch && dateMatch;
              $(this).toggle(rowVisible);

              if (rowVisible) {
                  anyDataAvailable = true;
              }
          });

          if (!anyDataAvailable) {
              $(".pagination").hide();
              $("#no-data-message").show();
          } else {
              $(".pagination").show();
              $("#no-data-message").hide();
          }
      });
  });
</script> -->

<script>
  function submitSearch() {
  var input = document.getElementById("myInput");
  var filter = input.value.toUpperCase();
  var table = document.getElementById("yourTableID"); // Changed ID to match your table ID
  var tr = table.getElementsByTagName("tr");
  
  for (var i = 1; i < tr.length; i++) { // Start loop from index 1 to skip the header row
    var found = false;
    var td = tr[i].getElementsByTagName("td");
    
    for (var j = 0; j < td.length; j++) {
      var txtValue = td[j].textContent || td[j].innerText;
      
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        found = true;
        break;
      }
    }
  
    if (found) {
      tr[i].style.display = "";
    } else {
      tr[i].style.display = "none";
    }
  }
  }
  </script>


<script>
  $(document).ready(function () {
    $("#name-search").on("keyup", function () {
          var searchText = $(this).val().toLowerCase();
          $("#yourTableID tbody tr").filter(function () {
              $(this).toggle($(this).text().toLowerCase().indexOf(searchText) > -1);
          });
          var anyDataAvailable = $("#yourTableID tbody tr:visible").length > 0;
          if (!anyDataAvailable) {
              $(".pagination").hide()
              $("#no-data-message").show(); 
          } else {
              $(".pagination").show(); 
              $("#no-data-message").hide(); 
          }
      });
  });
</script>
  

</div>

<br>
<br>

    <style>
      .dropdown-menu {
  background-color: #fff; /* set background color */
  border: 1px solid #ccc; /* set border */
  padding: 10px; /* set padding */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); /* set box shadow */
}

.dropdown-item {
  color:orange; /* set text color */
  font-size: 16px; /* set font size */
  padding: 5px 10px; /* set padding */
}
    </style>
    <style>
      #about-sub-nav, #services-sub-nav {
        display: none;
      }
    </style>
    
    <script>
      function toggleSubNav(element) {
        var subNav = element.nextElementSibling;
        if (subNav.style.display === "block") {
          subNav.style.display = "none";
        } else {
          subNav.style.display = "block";
        }
      }
    </script>

</div>




       





</div>

    
    {% endblock main_content %}
   
