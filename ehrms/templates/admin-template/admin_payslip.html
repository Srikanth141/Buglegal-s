{% extends 'admin-template/base_template.html' %}

{%load mathfilters%}{%load humanize%}{%load static%}


{% block page_title %}
Home
{% endblock page_title %}
{% block custom_css %}
<title>PAY-SLIP</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock custom_css %}
{% block main_content %}




       <style>
        .head{
display: flex;
align-items: center;
width: 0;
position: relative;
color: white;
flex-wrap: wrap;

height: auto;
width: 100%;
        }
        ul{
            list-style-type: none;
            padding: 0%;
        }
        .size{
            font-size: 20px;
        }
        table{
            overflow: auto;
            overscroll-behavior-x: contain;
            
        }
        
       </style>
    
 
       
        
         

    <div class="row" >
        <div class="col-lg-12" style="margin-bottom: 50px;">
                <div class="head" >
                    <div class="col-lg-3">
                    <h3 class="item"><img src="/media/developtrees pic.png" alt="company logo" width="200px" height="90px" ></h3>
                </div>
                    <div class="col-lg-6" >
                    {% for i in company_details %}
                    <ul ><li><b>{{i.companyname}}</b></li></ul>
                    <ul ><li>{{i.registeraddress}}</li></ul>
                    {% endfor %}
                </div>
                <div class="col-lg-3" style="padding: 0%;font-size: 15px;">
                   
                     <h3>Payslip:{{ data.month_and_year }}</h3>
                    
                     <ul><li>Generated by DevelopTrees</li></ul>
                </div>

                </div>

          
            </div>
            


            <div class="col-lg-12" >
                <div class="row" style="justify-content: center;text-align: center;" >
<div class="col-lg-8" style="color: white;">
<div class="row" style="text-align: center;">
  <div class="col">
    <span>NET PAY</span><br>
   <h5>{{ total |intcomma }}</h5>
</div>
<div class="col" style="padding-top: 18px;">
   <i class="fas fa-equals"></i>
</div>
<div class="col">
    <span>Gross Pay (A) </span><br>
    <h5>{{ total |intcomma }}</h5>
</div>
<div class="col">
    <span>Deductions (B)</span><br>
    <h5>{{0}}</h5>
</div>
</div>
</div>
                   
               
            </div></div>
            
                               
       
                
                    <div class="col-lg-4" style="color: white;padding-top: 10px; " >
                    <div class="inner" style="justify-content: center;">
                        {% for i in details %}
                       <div class="size"> Employee ID <br>
                        <b>{{user_obj.empid}}</b></div><br>
                        <div class="size"> Name<br>
                            <b>{{user_obj.firstname}}.{{user_obj.lastname}}</b></div><br>
                        <div class="size">Designation<br>
                            <b>{{user_obj.designation}}</b></div><br>
                        
                      
                       
                        <div class="size">Bank Account Number<br>
                            <b>{{i.acno}}</b></div><br>
                        <div class="size">Date of Birth<br>
                            <b>{{i.dob}}</b>
                            </div ><br>
                        <div class="size">PAN<br>
                            <b>{{i.pan}}</b></div ><br>
                        
                        <div class="size">Hiringdate<br>
                            <b>{{user_obj.dateofjoining}}</b></div ><br>
                        <div class="size">Address<br>
                            <b>{{i.address1}}</b></div ><br>
                     {% endfor %}
                    </div>
                    </div>
                    <br>
                    
                    <div class="col-lg-8 col-sm-12 col-md-12">
                        <div class="small-box" style="background-color: rgba(8, 8, 77,); color: white;" >
                           <br><center><b>Grass Pay(A)</b> * The Total Money you earned before the deductions</center>
                           </div>
                           
                           
                            <table  class="table table-border"  style="color: white;">
                                
                                <tr><th>Earnings</th><td><b>Monthly</b></td><td><b>Total Amount</b></td></tr>
                                <tr><th>basicsalary</th><td>{{ monthly_total|intcomma }}</td><td>{{ monthly_total|intcomma }}</td></tr>
                                <tr><th>House_rent_allowance</th><td>{{ rent|intcomma }}</td><td>{{ rent|intcomma }}</td></tr>
                                <tr><th>special_allowance</th><td>{{travel|intcomma}}</td><td>{{travel|intcomma}}</td></tr>
                                <tr><th>leave_travel_allowance</th><td>{{leave_travel |intcomma}}</td><td>{{leave_travel |intcomma}}</td></tr>
                                <tr><th></th><td>Gross Pay</td><td>{{ total |intcomma }}</td></tr>
                            </table>    
                        
                        
                        <div class="small-box" style="background-color: rgba(8, 8, 77,); color: white;">
                           <br><center> <b>Deductions(B)</b> * The Amount Deducted for taxes and other benefits</center>
                        </div>
                            <table    class="table table-border" style="color: white;"> 
                                <tr><th>Deductions</th><td><b>Monthly</b></td><td><b>Total Amount</b></td></tr> 
                                <tr><th></th><td>Total Deductions</td><td>0</td></tr>
                             </table>
                        
                    </div>
                <div class="col-lg-12">
                <div class="small-box" style="background-color: rgba(8, 8, 77,); color: white;">
                    <br><center><b>Yearly Taxable Income(C)</b> * The money you will earn annually excluding the exemptions you declare </center>
                    </div>
                    <table class="table table-border" style="color: white;" >
                        <tr><th>Description</th><td><b>Gross</b></td><td><b>Exempted</b></td><td><b>Taxable</b></td></tr>
                        <tr><th>Basic Salary</th><td>{{b_tax |intcomma}}</td><td>0</td><td>{{b_tax |intcomma}}</td></tr>
                        <tr><th>House_Rent_Allowance</th><td>{{h_tax |intcomma}}</td><td>0</td><td>{{h_tax |intcomma}}</td></tr>
                        <tr><th>Special_Allowance</th><td>{{s_tax |intcomma}}</td><td>0</td><td>{{s_tax |intcomma}}</td></tr>
                        <tr><th>Leave_Travel_Allowance</th><td>{{l_tax |intcomma}}</td><td>0</td><td>{{l_tax |intcomma}}</td></tr>
                        <tr><th></th><td></td><td><b>Annual Taxable Salary</b></td><td>{{formatted_tax}}</td></tr>
                    </table>
                
                <div class="small-box" style="background-color: rgba(8, 8, 77,); color: white;">
                    <br><center><b>Net Taxable Income(D)</b> * Your taxes are calculated on this amount after considering all investments you claimed to save taxes</center>
                </div>
                    <table class="table table-border" style="color: white;" >
                        <tr><th>Details</th><td></td><td><b>Monthly</b></td><td><b>Amount</b></td></tr> 
                        <tr><th>Annual Taxable Salary(c)</th><td></td><td></td><td>{{tax |intcomma}}</td></tr>
                        <tr><th>Standard Deductions (Section 16)</th><td></td><td></td><td>-50000</td></tr>
                        <tr><th></th><td></td><td><b>Net Taxable Income</b></td><td>{{net_taxable_income |intcomma}}</td></tr>
                    </table>
                <br>
                <div class="small-box" style="background-color: rgba(8, 8, 77,); color: white;">
                   <br><center> <b>Tax For 2023-2024</b> * Tax will be deducted on this Net Taxable Salary after all exemptions </center>
                </div>
                    <table class="table table-border" style="color: white;" >
                    <tr><th>Details</th><td></td><td><b></b></td><td><b>Amount</b></td></tr> 
                    <tr><th>Tax on Taxable Income </th><td></td><td></td><td>0</td></tr>
                    <tr><th>Net Tax</th><td></td><td></td><td>0</td></tr>
                    <tr><th>Tax Deducted Till Date(Current Employer)</th><td></td><td><b>Tax To be Deducted This Year</b></td><td>0</td></tr>
                </table>
                
           
                <br>
               <div style="color: white;"> <center>* This is a computer generated statement does not require a signature.*</center></div>
               
               
            </div>
            <div class="col-lg-12 mt-3" style="display: flex; justify-content: center;">
                
                <form  method="get">
                    <button class="btn btn-primary" type="submit">Download</button>
                </form>
                <a href="{% url 'admin_payroll_table' %}"><button class="btn btn-primary" style="margin-left: 30px;">VIEW DETAILS</button></a>
                </div>
        </div>
            
            
        
   
     

        {% endblock main_content %}
    