{% extends "admin-template/base_template.html" %}
{% block main_content %}

        <style>
       
         body{
    
            background-color:#1e2442;

        } 

        h1 {
            text-align: center;
        }
        h2 {
            margin: 0;
            color: white;
        }
        .text-center {
            text-align: center;
        }
        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }
        .pl-0 {
            padding-left: 0;
        }
        .button {
            padding: 0.7rem 1.5rem;
            border: 1px solid #4361ee;
            background-color: #4361ee;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
        }
        .submit-btn {
            border: 1px solid #0e9594;
            background-color: #0e9594;
            float: right;
        }
        .mt-3 {
            margin-top: 2rem;
        }
        .d-none {
            display: none;
        }
        
        form{
            width:50%;
            margin:auto;
        }
        
        .form-stepper-horizontal {
            display: flex;
            justify-content: space-between;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .form-stepper-list {
            flex: 1;
            text-align: center;
        }
        .form-stepper-circle {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            background-color: #f8f9fa; /* Default background color */
            color: #000; /* Default text color */
            border: 2px solid #ccc; /* Default border */
            border-radius: 50%;
            font-size: 18px;
            margin: 0 auto;
        }

        
        .label {
            color: white;
        }
    </style>

<style>

    [type="file"] {
         height: 0;
         overflow: hidden;
         width: 0;
    }
     [type="file"] + label {
         background: #f15d22;
         border: none;
         border-radius: 5px;
         color: #fff;
         cursor: pointer;
         display: inline-block;
        
         font-size: inherit;
         font-weight: 500;
         margin-bottom: 1rem;
         outline: none;
         padding: 1rem 50px;
         position: relative;
         transition: all 0.3s;
         vertical-align: middle;
    }
     
     [type="file"] + label.btn-2 {
         background-color: #99c793;
         border-radius: 50px;
         overflow: hidden;
    }
     [type="file"] + label.btn-2::before {
         color: #fff;
         content: "\f382";
         
         font-size: 100%;
         height: 100%;
         right: 130%;
         line-height: 3.3;
         position: absolute;
         top: 0px;
         transition: all 0.3s;
    }
     
     
     body {
       
         font-size: 18px;
         line-height: 1.3;
         margin: 1rem 0;
         text-align: center;
    }
     .wrapper {
         background-color: #fff;
         border-radius: 1rem;
         margin: 0 auto;
         max-width: 500px;
         padding: 2rem;
         width: 100%;
    }
     .footer {
         font-size: 0.8rem;
         margin-bottom: 0;
         margin-top: 3rem;
    }
     h1, p {
         margin-bottom: 2rem;
    }
     h1 {
         /* font-family: 'Rubik', sans-serif; */
         font-size: 1.7rem;
    }
     a {
         color: #31c1ef;
         text-decoration: none;
    }
     
            </style>
    <br>

            <center>
                <div class="form-group" style="width:50%;margin:auto;border:none;">
                    {% if messages %}
                       {% for message in messages %}
                       {% if message.tags == 'error' %}
                       <div class="alert alert-danger" style="margin-top:10px">{{ message }}</div>
                       {% endif %}
                       {% if message.tags == 'success' %}
                       <div class="alert alert-danger" style="margin-top:10px;background-color:#5ac09d; border:none;">{{ message }}</div>
                       {% endif %}
                       {% endfor %}
                    {% endif %}
                </div> 
             <div class="form-control" style="background-color:#242b4d; color: white; width:auto;height:15%; border:none;">
                <h2 class="font-normal" style="text-align: center; color:white;">ENTER COMPANY DETAILS</h2><br><br>
                <ul class="form-stepper form-stepper-horizontal text-center mx-auto pl-0">
                    <li class="form-stepper-active text-center form-stepper-list" step="1" >
                        <a class="mx-2">
                            <span class="form-stepper-circle" style="background-color:#5a99e8 ; color: black;">
                                <span>1</span>
                            </span>
                            <div class="label">ENTER COMPANY DETAILS</div>
                        </a>
                    </li>
                    <li class="form-stepper-unfinished text-center form-stepper-list" step="2">

                        <a class="mx-2">
                            <span class="form-stepper-circle text-muted" style="background-color:#5a99e8; color: black;">
                                <span>2</span>
                            </span>
                            <div class="label">SET PAYROLL DATE</div>
                        </a>
                    </li>
                    <li class="form-stepper-unfinished text-center form-stepper-list" step="3">
                        <a class="mx-2">
                            <span class="form-stepper-circle text-muted" style="background-color:#5a99e8; color: black;">
                                <span>3</span>
                            </span>
                            <div class="label">SET EMPLOYEE SALARY STRUCTURE</div>
                        </a>
                    </li>
                </ul>
            </div>
        </center><br><br><br>
            
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    document.querySelector('.btn-navigate-form-step').addEventListener('click', function() {
                        document.querySelector('li[step="2"] .form-stepper-circle').innerHTML = '<span>2</span>';
                        
                    });
                    

                });
            </script>
            
            
            
            
            
            
            <form  id="msform" style="width:100%" class="msform fieldset" method="POST" enctype="multipart/form-data" action= "{% url  'company_details_save' %}">{% csrf_token %} 
            
				<fieldset>
                    
                <section id="step-1" class="form-step"><br><br><br><br><br>
                    
                
                    
                    <div class="mt-3">

                   
                        <label style="color:white"><b>Organisationtype*</b></label>
                        <input type="text" name="Organisationtype" placeholder="Organisationtype" class="form-control" required style="background-color:#393f5c; color:white; border:none;" required />
                        <br><br>

                        <label style="color:white"><b>companypan*</b></label>
                        <input type="text" name="companypan" placeholder="companypan" class="form-control" style="background-color:#393f5c; color:white; border:none;" required />
                       <div style="display: flex; flex-direction: column;"></div>
                         <div class="form-control" style="background-color: #282f51; color:white; border:none;">
                              <label  >You can verify your PAN <a href="#">here..</a></label>
                         </div><br><br><br>
                         

                        <label style="color:white"><b>companyname*</b></label>                 
                        <input type="text" name="companyname" placeholder="companyname" class="form-control" style="background-color:#393f5c; color:white; border:none;" required />
                        <div style="display: flex; flex-direction: column;">
                        </div>

                            <div class="form-control" style="background-color:#282f51; color:white; border:none;">
                            <label>the name of the legal entity</label>
                            </div><br><br><br>

                        <label style="color:white"><b>companyGSTIN*</b></label>    
                        <input type="text" name="companyGSTIN" placeholder="companyGSTIN" class="form-control"  style="background-color:#393f5c; color:white; border:none;" required>
                            <div class="form-control" style="background-color:#282f51; color:white; height:10%; border:none;">
                             <label>enter a valid GSTIN,provide the address mentioned on your GST certificate.<a href="#">details..</a></label>
                            </div><br><br><br>
                            
                            
                        <label style="color:white"><b>brandname*</b></label>    
                        <input type="text" name="brandname" placeholder="brandname" value="{{ users.brandname}}" class="form-control" style="background-color:#393f5c; color:white; border:none;" required>
                        <div style="display: flex; flex-direction: column; border:none;">
                        </div>
                        
                            <div class="form-control" style="background-color:#282f51; color:white; height:15%; border:none;">
                             <label>if your company is publicly known by a different brand name,then please enter that here.</label>
                            </div><br><br><br><br><br>

                        <label style="color:white"><b>registeraddress*</b></label>    
                        <input type="text" name="registeraddress" placeholder="registeraddress" class="form-control" style="background-color:#393f5c; color:white; border:none;" required>
                        <div style="display: flex; flex-direction: column;">
                        </div>
                        
                            <div class="form-control" style="background-color: #282f51; color:white; height:15%; border:none;">
                             <label >if you have a GSTIN, provide the address mentioned on your GST certificate.</label>
                            </div><br><br><br>

                        <input type="text" name="address" placeholder="address line2" class="form-control" style="background-color:#393f5c; color:white; border:none;" required>
                        <div style="display: flex; flex-direction: column;">
                        </div><br><br>
                    
                        <label style="color:white"><b>state*</b></label><br>
                        <select name="State" class="form-control" style="background-color: #282f51; color:white;border:none; ">
                            <option>andhrapradesh</option>
                            <option>telangana</option>
                        </select><br><br>

                        <label style="color:white"><b>pincode*</b></label>
                        <input type="text" name="pincode" placeholder="pincode" class="form-control" style="background-color:#393f5c; color:white; border:none;" required><br>
                        <div style="display: flex; flex-direction: column;">
                        </div> 

                        <input type="file" id="file" />
                        <label for="file" name="logo" class="btn-2">upload company logo</label> 
                     
                    <div class="mt-3">
                        <button class="button btn-navigate-form-step" type="button" step_number="2">Continue</button>
                    </div>
                </div><br><br><br><br>
                  

                
                </section>
            
            
                


            <section id="step-2" class="form-step d-none">
                <div class="mt-3">
                  <label style="color:white;"></label><br><br><br><br><br>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input">
                    <label class="form-check-label" style="color:white;">Payroll enabled</label>
                  </div>
                  
                  <center>
                    <div class="form-control" style="background-color:#282f51; color:white; width:auto%; height:auto; border:none;">
                      <label>Choose when you would like to pay your employees. Select a date after the 15th to pay your employees for the same month, e.g., if you pick 31, then your employees will get paid for January on January 31. Alternatively, if you pick 1, then your employees will get paid for January on 1st February.</label>
                    </div><br>
                    
                    <div>
                        <label style="width: 120px; color: white;">Payrolldate*</label><br>
                        <input type="date" name="payrolldate"class="form-control" style="background-color: #393f5c; color: white; border:none;"> 
                      </div>
                      <br>
                      
                      <div class="form-control" style="background-color: #282f51; color: white; width: auto; height: auto; border:none;">
                        <label>You can choose to either manually request execution each month before the payroll is executed, or xpayroll can automatically execute your payroll on your chosen date.</label>
                      </div>
                      <br>
                      
                      <div class="form-check" style="display: flex; align-items: center;">
                        <input type="checkbox" name="auto_run_payroll"class="form-check-input">
                        <label class="form-check-label" style="color: white;">Automatically run payroll on selected date</label>
                      </div>
                      <br>
                      
                      <div class="form-control" style="background-color: #282f51; color: white; width: auto; height: auto; border:none;">
                        <label>Employees can request salary advances through xpayroll. If approved, the advance amount will be paid immediately and automatically recovered from future payments to the employees.</label>
                      </div>
                      <br>
                      
                      <div class="form-check" style="display: flex; align-items: center; border:none;">
                        <input type="checkbox" name="advance_salary_request"class="form-check-input">
                        <label class="form-check-label" style="color: white;">Let employees request salary advance</label>
                      </div>
                      <br>
                      
                      <div style="display: flex; align-items: center;">
                        <label style="color: white;">* Indicate required fields</label>
                      </div>
                      <br>
                      
                      <div class="mt-3" style="display: flex; align-items: center;">
                        <button class="button btn-navigate-form-step" type="button" step_number="3">Save & Next</button>
                      </div>
                      

                      
                      
                  </center>
                </div><br><br><br>
            </section>
               
            
              
            
        
              <section id="step-3" class="form-step d-none">
                <div class="mt-3"><br><br><br>
                  <label style="color:white;">Default Salary Structure</label><br>
                  <div class="form-control" style="background-color:#282f51; color:white; width:auto;height:auto; text-align:center; border:none;">
                    <label>1. You can customize the default salary structure that xpayroll uses for your employee<br>
                      2. Employer contributions to PF and ESI (if applicable) are applied after the salary has been bifurcated into the components at the ratio defined. Hence, the final salary structure can have a slightly different ratio.
                    </label>
                  </div>
                  <br>
                  <label style="color:white;"></label>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input">
                    <label class="form-check-label" style="color:white;">Use xpayroll's default salary structure (recommended)</label>
                  </div>
                  <br>
              
                <table border="2" style="background-color:#2d3354; color:white; width:100%; height:50%;border-collapse: collapse; border:none;">
                    <tr style="background-color:#323a5f;">
                      <th>Salary Component</th>
                      <th>% of CTC</th>
                      <th>Percentage or Fixed?</th>
                      <th>Taxable</th>
                    </tr>
                    {% for i in k %}
                    <tr>
                      <td>{{i.salarycomponent}}</td>
                      <td>{{i.percentageofCTC}}</td>
                      <td>{{i.percentageorfixed}}</td>
                      <td>{{i.Taxable}}</td>
                    </tr>
                    {% endfor %}
                  </table> 


              
                  <br><br>
                  <div class="form-control" style="background-color:#282f51; color:white; width:auto; height:auto; border:none;">
                    <label style="width:auto;">If you are using flexible benefits, you can specify whether they are taxable or not, if you have not explicitly approved exemption for them.</label>
                  </div>
                  <br>
                  <div class="form-check">
                    <input type="checkbox" name="FBP_allowances" class="form-check-input">
                    <label class="form-check-label" style="color:white;">Consider FBP allowances to be taxable by default</label>
                  </div>
                  <br>
                </div>
                <input type="submit" class="bg-info" value="submit"><br><br><br><br><br>
                
              </section>
              
              

             </div>
             <br>
             <br>
             
            </form>

<script>
   
         

const navigateToFormStep = (stepNumber) => {
    document.querySelectorAll(".form-step").forEach((formStepElement) => {
        formStepElement.classList.add("d-none");
    });
    document.querySelectorAll(".form-stepper-list").forEach((formStepHeader) => {
        formStepHeader.classList.add("form-stepper-unfinished");
        formStepHeader.classList.remove("form-stepper-active", "form-stepper-completed");
    });
    
    document.querySelector("#step-" + stepNumber).classList.remove("d-none");
    
    const formStepCircle = document.querySelector('li[step="' + stepNumber + '"]');
    
    formStepCircle.classList.remove("form-stepper-unfinished", "form-stepper-completed");
    formStepCircle.classList.add("form-stepper-active");
    
    for (let index = 0; index < stepNumber; index++) {
        const formStepCircle = document.querySelector('li[step="' + index + '"]');
    
        if (formStepCircle) {
            
            formStepCircle.classList.remove("form-stepper-unfinished", "form-stepper-active");
            formStepCircle.classList.add("form-stepper-completed");
        }
    }
};

document.querySelectorAll(".btn-navigate-form-step").forEach((formNavigationBtn) => {
    
    formNavigationBtn.addEventListener("click", () => {
        
        const stepNumber = parseInt(formNavigationBtn.getAttribute("step_number"));

        navigateToFormStep(stepNumber);
    });
});
</script>

        

{% endblock main_content %}


